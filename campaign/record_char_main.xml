<?xml version="1.0" encoding="iso-8859-1"?>

<!-- 
  Please see the license.html file included with this distribution for 
  attribution and copyright information.
-->

<root>
	<windowclass name="charsheet_classes">
		<frame>charsheethelper</frame>
		<placement>
			<size width="470" height="300" />
		</placement>
		<sizelimits>
			<minimum width="470" height="300" />
			<dynamic />
		</sizelimits>
		<nodelete />
		<playercontrol />
		<script>
			function onDrop(x, y, draginfo)
				if draginfo.isType("shortcut") then
					local sClass, sRecord = draginfo.getShortcutData();

					if sClass == "reference_class" then
						CharManager.addInfoDB(getDatabaseNode(), sClass, sRecord);
						return true;
					end
				end
			end
		</script>
		<sheetdata>
			<windowtitlebar_char name="title">
				<prefix>char_classes_title</prefix>
				<font>subwindowtitle-dark</font>
			</windowtitlebar_char>
			<anchor_title_charsheethelper name="contentanchor" />

			<label_charframetop name="leveltitle">
				<anchored to="contentanchor" position="belowleft" offset="10,5" height="20" width="80" />
				<static textres="char_label_totallevel" />
			</label_charframetop>
			<number_charlevel name="level">
				<anchored to="leveltitle" height="20" width="30">
					<top anchor="bottom" offset="10" />
					<left anchor="center" offset="-15" />
				</anchored>
				<frame name="fieldlight" offset="7,5,7,5" />
			</number_charlevel>

			<label_charframetop name="exptitle">
				<anchored to="contentanchor" position="belowleft" offset="110,5" height="20">
					<right offset="-10" />
				</anchored>
			</label_charframetop>
			<number_dropadd name="exp">
				<anchored to="exptitle" height="20" width="70">
					<top anchor="bottom" offset="10" />
					<right anchor="center" offset="-15" />
				</anchored>
				<description textres="char_tooltip_xp" />
			</number_dropadd>
			<label_charfieldtop>
				<anchored to="exp" offset="0,10" />
				<static textres="xp" />
			</label_charfieldtop>
			<basicnumber name="expneeded">
				<anchored to="exptitle" height="20" width="70">
					<top anchor="bottom" offset="10" />
					<left anchor="center" offset="15" />
				</anchored>
				<description textres="char_tooltip_xpneeded" />
				<script>
					function onHover(oncontrol)
						if oncontrol then
							local draginfo = Input.getDragData();
							if draginfo and draginfo.isType("number") and draginfo.getNumberData() &lt; getValue() then
								setColor("BB0000");
							end
						else
							setColor(nil);
						end
					end
					
					function onDrop(x, y, draginfo)
						if draginfo.isType("number") and draginfo.getNumberData() &gt; getValue() then
							setValue(draginfo.getNumberData());
						end

						return true;
					end
				</script>
			</basicnumber>
			<label_charfieldtop>
				<anchored to="expneeded" offset="0,10" />
				<static textres="char_label_nextlevel" />
			</label_charfieldtop>
			
			<label_charframetop name="hdusedtitle">
				<anchored to="contentanchor" position="belowright" offset="45,65" height="20" width="30" />
				<static textres="char_label_hdused" />
			</label_charframetop>
			<label_charframetop name="hdtitle">
				<anchored to="hdusedtitle" position="left" offset="20,0" width="50" />
				<static textres="char_label_hd" />
			</label_charframetop>
			<label_charframetop name="casterlevelmulttitle">
				<anchored to="hdtitle" position="left" offset="20,0" width="50" />
				<static textres="char_label_caster" />
				<tooltip textres="char_tooltip_caster" />
			</label_charframetop>
			<label_charframetop name="classleveltitle">
				<anchored to="casterlevelmulttitle" position="left" offset="20,0" width="35" />
				<static textres="char_label_level" />
			</label_charframetop>
			<label_charframetop name="classtitle">
				<anchored to="classleveltitle" position="left" offset="20,0">
					<left parent="contentanchor" offset="10" />
				</anchored>
				<static textres="char_label_class" />
			</label_charframetop>
			<button_iadd name="classes_iadd">
				<anchored to="hdusedtitle">
					<top anchor="bottom" relation="relative" offset="3" />
					<left anchor="right" offset="15" />
				</anchored>
				<target>classes</target>
			</button_iadd>
			<list_text name="classes">
				<anchored to="contentanchor">
					<top parent="hdusedtitle" anchor="bottom" relation="relative" offset="3" />
					<left offset="5" />
					<right offset="-10" />
					<bottom parent="" offset="-30" />
				</anchored>
				<child></child>
				<child><backcolor>1A40301E</backcolor></child>
				<datasource>.classes</datasource>
				<class>charsheet_class</class>
			</list_text>
			<scrollbar>
				<anchored to="classes" />
				<target>classes</target>
			</scrollbar>
			<button_iedit name="classes_iedit">
				<anchored to="hdusedtitle" position="righthigh" offset="15,0" />
				<target>classes</target>
			</button_iedit>

			<close_charsheethelper />
			<resize_charsheethelper />
		</sheetdata>
	</windowclass>
</root>
